<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login and Sign Up Form</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            background-color: #e2fbca;
        }

        .scrollable-container {
            max-height: 80vh;
            overflow-y: auto;
        }

        .file-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 5px 10px;
            background-color: #f0f0f0;
            margin-bottom: 5px;
            border-radius: 5px;
        }

        .file-item .file-name {
            flex-grow: 1;
            margin-left: 10px;
        }

        .file-item .remove-file {
            cursor: pointer;
        }
    </style>
</head>

<body class="flex justify-center items-center h-screen">

    <div class="container mx-auto p-8 max-w-lg">
        <div class="bg-white p-8 rounded-2xl shadow-lg scrollable-container">
            <!-- Sign Up Form -->
            <form id="signUpForm" class="space-y-4 hidden">
                <h2 class="text-2xl font-semibold text-center mb-4">Sign Up</h2>

                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700">Name</label>
                    <input type="text" id="name" placeholder="John Doe" name="name" required
                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                </div>

                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700">Email Address</label>
                    <input type="email" id="email" placeholder="abc@gmail.com" name="email" required
                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                    <p id="emailError" class="text-red-500 text-sm hidden">Please enter a valid email address.</p>
                </div>

                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
                    <div class="relative">
                        <input type="password" id="password" name="password" required
                            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                        <i class="bi bi-eye-slash-fill text-gray-400 toggle-password-icon absolute right-3 top-3 cursor-pointer"></i>
                    </div>
                    <p id="passwordError"
                        class="text-red-500 text-sm hidden">Password must be at least 8 characters long and contain a mix of letters, numbers, and special characters.</p>
                </div>

                <div>
                    <label for="confirmPassword"
                        class="block text-sm font-medium text-gray-700">Confirm Password</label>
                    <div class="relative">
                        <input type="password" id="confirmPassword" name="confirmPassword" required
                            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                        <i class="bi bi-eye-slash-fill text-gray-400 toggle-confirm-password-icon absolute right-3 top-3 cursor-pointer"></i>
                    </div>
                    <p id="confirmPasswordError" class="text-red-500 text-sm hidden">Passwords do not match.</p>
                </div>

                <div>
                    <label for="dob" class="block text-sm font-medium text-gray-700">Date of Birth</label>
                    <input type="date" id="dob" name="dob" required
                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                </div>

                <div>
                    <span class="block text-sm font-medium text-gray-700">Gender</span>
                    <div class="mt-1">
                        <input type="radio" id="male" name="gender" value="male" required>
                        <label for="male" class="ml-2">Male</label>
                        <input type="radio" id="female" name="gender" value="female" required>
                        <label for="female" class="ml-2">Female</label>
                    </div>
                </div>

                <div class="flex items-center">
                    <input type="checkbox" id="terms" name="terms" required>
                    <label for="terms"
                        class="ml-2 block text-sm font-medium text-gray-700">I agree to the terms and conditions</label>
                </div>

                <div id="fileUploadContainer">
                    <label for="files" class="block text-sm font-medium text-gray-700">Upload Files</label>
                    <input type="file" id="files" name="files" multiple
                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                </div>

                <div id="fileList" class="space-y-2"></div>

                <div>
                    <button type="submit"
                        class="w-full bg-red-500 text-white py-2 px-4 rounded-md hover:bg-red-600 focus:outline-none focus:bg-red-600">Sign
                        Up</button>
                </div>
            </form>

            <!-- Login Form -->
            <form id="loginForm" class="space-y-4">
                <h2 class="text-2xl font-semibold text-center mb-4">Login</h2>

                <div>
                    <label for="loginEmail" class="block text-sm font-medium text-gray-700">Email Address</label>
                    <input type="email" id="loginEmail" placeholder="abc@gmail.com" name="loginEmail" required
                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                    <p id="loginEmailError" class="text-red-500 text-sm hidden">Please enter a valid email address.</p>
                </div>

                <div>
                    <label for="loginPassword" class="block text-sm font-medium text-gray-700">Password</label>
                    <div class="relative">
                        <input type="password" id="loginPassword" name="loginPassword" required
                            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                        <i class="bi bi-eye-slash-fill text-gray-400 toggle-password-icon absolute right-3 top-3 cursor-pointer"></i>
                    </div>
                    <p id="loginPasswordError"
                        class="text-red-500 text-sm hidden">Password must be at least 8 characters long and contain a mix of letters, numbers, and special characters.</p>
                </div>

                <div>
                    <button type="submit"
                        class="w-full bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 focus:outline-none focus:bg-green-600">Login</button>
                </div>
            </form>

            <!-- Toggle buttons -->
            <div class="flex justify-center mt-4">
                <button id="showSignUpFormBtn"
                    class="rounded-full bg-blue-100 text-blue-500 hover:bg-blue-200 py-2 px-4 focus:outline-none">Sign Up
                    Instead</button>
                <button id="showLoginFormBtn"
                    class="ml-2 rounded-full bg-blue-100 text-blue-500 hover:bg-blue-200 py-2 px-4 focus:outline-none">Log In
                    Instead</button>
            </div>
        </div>
    </div>

    <script>
        // JavaScript for form switching
        const signUpForm = document.getElementById('signUpForm');
        const loginForm = document.getElementById('loginForm');
        const showSignUpFormBtn = document.getElementById('showSignUpFormBtn');
        const showLoginFormBtn = document.getElementById('showLoginFormBtn');

        // Initially hide sign up form
        signUpForm.classList.add('hidden');

        // Show sign up form and hide login form
        showSignUpFormBtn.addEventListener('click', function () {
            signUpForm.classList.remove('hidden');
            loginForm.classList.add('hidden');
        });

        // Show login form and hide sign up form
        showLoginFormBtn.addEventListener('click', function () {
            loginForm.classList.remove('hidden');
            signUpForm.classList.add('hidden');
        });

        // Toggle Password Visibility
        document.querySelectorAll('.toggle-password-icon').forEach(icon => {
            icon.addEventListener('click', function () {
                const passwordInput = this.previousElementSibling;
                if (passwordInput.type === 'password') {
                    passwordInput.type = 'text';
                    this.classList.remove('bi-eye-slash-fill');
                    this.classList.add('bi-eye-fill');
                } else {
                    passwordInput.type = 'password';
                    this.classList.remove('bi-eye-fill');
                    this.classList.add('bi-eye-slash-fill');
                }
            });
        });

        // Toggle Confirm Password Visibility
        const toggleConfirmPasswordIcon = document.querySelector('.toggle-confirm-password-icon');
        toggleConfirmPasswordIcon.addEventListener('click', function () {
            const confirmPasswordInput = document.getElementById('confirmPassword');
            if (confirmPasswordInput.type === 'password') {
                confirmPasswordInput.type = 'text';
                this.classList.remove('bi-eye-slash-fill');
                this.classList.add('bi-eye-fill');
            } else {
                confirmPasswordInput.type = 'password';
                this.classList.remove('bi-eye-fill');
                this.classList.add('bi-eye-slash-fill');
            }
        });

        // JavaScript for form validation
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(String(email).toLowerCase());
        }

        function validatePassword(password) {
            const re = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/;
            return re.test(password);
        }

        signUpForm.addEventListener('submit', function (event) {
            event.preventDefault();

            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value.trim();
            const confirmPassword = document.getElementById('confirmPassword').value.trim();
            const dob = document.getElementById('dob').value.trim();
            const gender = document.querySelector('input[name="gender"]:checked');
            const terms = document.getElementById('terms').checked;
            const files = document.getElementById('files').files;

            let isValid = true;

            if (!name || !email || !password || !confirmPassword || !dob || !gender || !terms || files.length === 0) {
                alert('Please upload required file');
                return;
            }

            if (!validateEmail(email)) {
                document.getElementById('emailError').classList.remove('hidden');
                isValid = false;
            } else {
                document.getElementById('emailError').classList.add('hidden');
            }

            if (!validatePassword(password)) {
                document.getElementById('passwordError').classList.remove('hidden');
                isValid = false;
            } else {
                document.getElementById('passwordError').classList.add('hidden');
            }

            if (password !== confirmPassword) {
                document.getElementById('confirmPasswordError').classList.remove('hidden');
                isValid = false;
            } else {
                document.getElementById('confirmPasswordError').classList.add('hidden');
            }

            if (!terms) {
                alert('Please agree to the terms and conditions.');
                isValid = false;
            }

            if (isValid) {
                // Perform sign up logic here (e.g., send data to server)
                console.log('Name:', name);
                console.log('Email:', email);
                console.log('Date of Birth:', dob);
                console.log('Gender:', gender.value);
                console.log('Password:', password);
                console.log('Agreed to Terms:', terms);
                console.log('Files/Folders:', files);

                // Optionally, redirect the user after successful sign up
                // window.location.href = '/dashboard.html';
            }
        });

        loginForm.addEventListener('submit', function (event) {
            event.preventDefault();

            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value.trim();

            let isValid = true;

            if (!email || !password) {
                alert('Please fill in all fields.');
                return;
            }

            if (!validateEmail(email)) {
                document.getElementById('loginEmailError').classList.remove('hidden');
                isValid = false;
            } else {
                document.getElementById('loginEmailError').classList.add('hidden');
            }

            if (!validatePassword(password)) {
                document.getElementById('loginPasswordError').classList.remove('hidden');
                isValid = false;
            } else {
                document.getElementById('loginPasswordError').classList.add('hidden');
            }

            if (isValid) {
                // Perform log in logic here (e.g., send data to server)
                console.log('Email:', email);
                console.log('Password:', password);

                // Optionally, redirect the user after successful login
                // window.location.href = '/dashboard.html';
            }
        });

        // File upload handling
        const fileInput = document.getElementById('files');
        const fileList = document.getElementById('fileList');

        fileInput.addEventListener('change', handleFileSelect);

        function handleFileSelect(event) {
            const files = event.target.files;
            const dataTransfer = new DataTransfer();

            fileList.innerHTML = '';

            Array.from(files).forEach((file, index) => {
                dataTransfer.items.add(file);

                const fileItem = document.createElement('div');
                fileItem.classList.add('file-item', 'flex', 'justify-between');
                fileItem.innerHTML = `
                    <div class="file-name">${file.name}</div>
                    <div class="remove-file text-red-500 cursor-pointer" data-index="${index}"><i class="bi bi-x"></i></div>
                `;
                fileList.appendChild(fileItem);
            });

            fileInput.files = dataTransfer.files;

            document.querySelectorAll('.remove-file').forEach(button => {
                button.addEventListener('click', handleRemoveFile);
            });
        }

        function handleRemoveFile(event) {
            const index = event.target.closest('.remove-file').getAttribute('data-index');
            const dataTransfer = new DataTransfer();
            const files = fileInput.files;

            Array.from(files).forEach((file, i) => {
                if (i != index) {
                    dataTransfer.items.add(file);
                }
            });

            fileInput.files = dataTransfer.files;
            handleFileSelect({ target: fileInput });
        }
    </script>
</body>

</html>
